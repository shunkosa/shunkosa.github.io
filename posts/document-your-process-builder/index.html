<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Document Your Process Builder</title><meta name=description content><meta name=image content="https://shunkosa.github.io/posts/img/flowdoc.png"><meta itemprop=name content="Document Your Process Builder"><meta itemprop=description content><meta itemprop=image content="https://shunkosa.github.io/posts/img/flowdoc.png"><meta name=og:title content="Document Your Process Builder"><meta name=og:description content><meta name=og:image content="https://shunkosa.github.io/posts/img/flowdoc.png"><meta property="og:image:width" content="200"><meta property="og:image:height" content="200"><meta name=og:url content="https://shunkosa.github.io/posts/document-your-process-builder/"><meta name=og:site_name content="Document Your Process Builder"><meta name=og:type content="article"><meta name=twitter:card content="summary"><meta name=twitter:url content="https://shunkosa.github.io/posts/document-your-process-builder/"><meta name=twitter:site content="@shunkosa"><meta name=twitter:creator content="@shunkosa"><meta name=article:tag content><link rel=stylesheet type=text/css href=https://shunkosa.github.io/css/style.css></head><body><header><div class=global-header><div class=gravatar><img class=homepage-avatar src="https://www.gravatar.com/avatar/4068fcaf4bd4822746cc4537a422eced?s=256&d=identicon"></div><div class=site-title><a href=https://shunkosa.github.io/><h1>Shun Kosaka</h1></a><p><i>Tsurezuregusa on Salesforce and technology</i></p></div>&nbsp;&nbsp;<a href=https://shunkosa.github.io/about/>About</a>&nbsp;&nbsp;<a href=https://shunkosa.github.io/archives/>Archives</a></div></header><div class=content><h1>Document Your Process Builder</h1><aside></aside><p><p>We often create various documents for deliverables, review, taking over, just an explanation to teammates, and so on. If the document is based on your Salesforce environment, you may create it automatically from the org to avoid maintaining both.</p><p>For example, the followings are popular tools to export Salesforce settings including object fields definition.</p><ul><li><a href=https://chrome.google.com/webstore/detail/salesforce-devtools/ehgmhinnhggigkogkbhnbodhbfjgncjf>Salesforce DevTools</a></li><li><a href=https://github.com/nyasba/docforce2>docforce2</a></li></ul><p>And some companies may have their own tools internally.</p><p>So, how about Lightning Flow? <a href="https://success.salesforce.com/ideaView?id=08730000000DmiPAAS">This idea</a> has more than 3k points but the metadata of lightning flow is complex and I cannot find any open source tools that supports it.</p><p>Not found? Just make it! As a prototype, I created the following tools to document process builder setting.</p><figure><img src=https://github.com/shunkosa/sfdx-flowdoc-plugin/raw/master/img/screenshot.png width=100%></figure><ul><li><a href=https://flowdoc.herokuapp.com>Flowdoc Web App</a></li><li><a href=https://www.github.com/shunkosa/sfdx-flowdoc-plugin>Flowdoc Salesforce CLI Extension</a></li></ul><h2 id=web-app>Web App</h2><p>Connect your org and click the download icon of the flow you want to export. PDF file will open in another browser tab. Currently this tool supports trigger-based process builder only. (And unfortunately it still doesn&rsquo;t support all the process builder settings.)</p><p><img src=../img/flowdoc_screenshot.png alt></p><h2 id=cli-extension>CLI Extension</h2><p>Install the plugin</p><pre><code>sfdx plugins:install sfdx-flowdoc-plugin
</code></pre><p>and then run,</p><pre><code>sfdx flowdoc:pdf:generate YOUR_PROCESS_API_NAME
</code></pre><h2 id=behind-the-scenes>Behind the Scenes</h2><p>This tool simply parses <a href=https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_visual_workflow.htm>Flow metadata</a> and construct a object to generate pdf by <a href=http://pdfmake.org/#/>pdfmake</a>. For example, a criteria element in process builder is represented as <code>&lt;decisions></code> element in medatada.</p><p><img src=../img/process_metadata_example.png alt></p><script type=application/javascript src=https://gist.github.com/shunkosa/a07faf8ebf0012c2b4c92fbf79817e1f.js></script><p>You can see <code>&lt;connector></code> element and it refers to a next element like action or next criteria. Tracking this recursively, you can retrieve a sequence of action group elements.</p><p>But <code>&lt;decisions></code> represents not only criteria in process, but also evaluation of scheduled action, and of course decision in flow builder. Now I write code only for displaying process builder settings, so further studies on flow metadata are needed to make this more abstract.</p><h2 id=next-step>Next Step</h2><p>I&rsquo;m working on the rest of process builder settings and flow builder settings. Your feedback is always welcomed!</p><p>(この記事は Salesforce 開発者向けブログキャンペーンへのエントリー記事です。)</p></p></div><p class=date>Written on Mar 27, 2020.</p><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//shunkosa.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><footer><p>&copy; 2021 All rights reserved.</p></footer></body></html>