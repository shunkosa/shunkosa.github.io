<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Recreate Modal Component for force:lightningQuickActionWithoutHeader</title>
<meta name=description content><meta itemprop=name content="Recreate Modal Component for force:lightningQuickActionWithoutHeader"><meta itemprop=description content><meta name=og:title content="Recreate Modal Component for force:lightningQuickActionWithoutHeader"><meta name=og:description content><meta name=og:url content="https://shunkosa.github.io/posts/recreate-modal-lightning-action/"><meta name=og:site_name content="Recreate Modal Component for force:lightningQuickActionWithoutHeader"><meta name=og:type content="article"><meta name=twitter:card content="summary"><meta name=twitter:url content="https://shunkosa.github.io/posts/recreate-modal-lightning-action/"><meta name=twitter:site content="@shunkosa"><meta name=twitter:creator content="@shunkosa"><meta name=article:tag content><link rel=stylesheet type=text/css href=https://shunkosa.github.io/css/style.css></head><body><header><div class=global-header><div class=gravatar><img class=homepage-avatar src="https://www.gravatar.com/avatar/092c1bb36d22dc33c1dacf9b5838deb5?s=256&d=identicon"></div><div class=site-title><a href=https://shunkosa.github.io/><h1>Shun Kosaka</h1></a><p><i>Things and thoughts about Salesforce and technology</i></p></div><div class=site-navigation>&nbsp;&nbsp;<a href=https://shunkosa.github.io/about/>About</a>&nbsp;&nbsp;<a href=https://shunkosa.github.io/archives/>Archives</a></div></div></header><div class=content><h1>Recreate Modal Component for force:lightningQuickActionWithoutHeader</h1><aside></aside><p><h2 id=intro>Intro</h2><p>Lightning component action is a handy option to create custom function called from record detail page. We can launch a lightning component from a custom action by just implementing either <code>force:lightningQuickAction</code> or <code>force:lightningQuickActionWithoutHeader</code>. However, lightning component action has serious user interface problems. I will introduce them and propose a workaround.</p><h2 id=problems>Problems</h2><p>A component implemented force:lightningQuickAction is shown on the auto-created modal and its header and footer are outside of the component. So we can neither customize the header text nor put an another button next to the cancel button on the footer.
<img src=../img/20171212181307.png alt></p><p>It&rsquo;s a natural to think about recreating everything in a component implemented force:lightningQuickActionWithoutHeader. However, it has another problem. Extra margin is generated.
<img src=../img/20171212181318.png alt></p><h2 id=workaround>Workaround</h2><p><strong>Notice: The following workaround is not compatible with Salesforce mobile and not available for API version 42.0 or later.</strong></p><p>We can overwrite the style of the auto-created modal by inline CSS to disable extra margin. Another possibility is calling a custom modal from lightning:button tag but it requires you to recreate a highlight panel and it would be a tough work.</p><pre tabindex=0><code>.cuf-content{
    padding:0 !important;
}
.slds-p-around--medium{
    padding:0 !important;
}
.slds-modal__content{
    overflow-y:hidden !important;
    height:unset !important;
    max-height:unset !important;
}
</code></pre><p><img src=../img/20171212181336.png alt></p><p>Now we get a modal which is similar to standard action.
<img src=../img/20171212181350.png alt></p><h2 id=reusable-component>Reusable component</h2><p>I created a template modal component which can be used in a component implemented force:lightningQuickActionWithoutHeader. It is available on <a href=https://github.com/shunkosa/lightningaction-modal>this repository</a>.</p><h2 id=usage>Usage</h2><pre tabindex=0><code>&lt;aura:component implements=&#34;force:lightningQuickActionWithoutHeader&#34;&gt;
	&lt;c:LightningActionModal title=&#34;Hello world!&#34; percentWidth=&#34;85&#34; bodyHeight=&#34;300&#34;&gt;
        //awesome modal body
        &lt;aura:set attribute=&#34;footer&#34;&gt;
            &lt;lightning:button label=&#34;Cancel&#34; variant=&#34;neutral&#34;/&gt;
            &lt;lightning:button label=&#34;Save&#34; variant=&#34;brand&#34; /&gt;
        &lt;/aura:set&gt;
    &lt;/c:LightningActionModal&gt;
&lt;/aura:component&gt;
</code></pre><h2 id=appendix>Appendix</h2><p><a href=https://salesforce.stackexchange.com/questions/160535/add-button-to-the-footer-of-a-lightning-quick-action-component>Add button to the footer of a Lightning Quick Action component - Salesforce Stack Exchange</a></p></p></div><p class=date>Written on Dec 12, 2017.</p><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//shunkosa.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><footer><p>&copy; 2023 All rights reserved.</p></footer></body></html>